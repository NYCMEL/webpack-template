<!DOCTYPE html>
<html>
    <head lang="en">
	<meta charset="UTF-8" />
	<title>Table</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link href="/Melify/mtk/dev/tk/lib/components/misc/webpack/src/w/dist/wc.css" rel="stylesheet" />
	<link href="/Melify/fonts/fonts.css" rel="stylesheet">

	<script>
	 wcENV="dev";
	 wcAPP="Table";
	 wcURL="http://www.melify.com/tk/lib/components/w";
	</script>

	<!-- FOR LOCAL TESTING PURPOSES -->
	<script src="/tk/lib/components/misc/webpack-template/src/w/js/tests.js"></script>

	<!-- TEMPORARY -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedcolumns/4.1.0/css/fixedColumns.bootstrap5.min.css">
	<!-- TEMPORARY -->
    </head>

    <body id="wc">
	<div class="container-fluid">
	    <div class="row">
		<div class="col-12">
		    <!-- SAMPLE -->
		    <wc-table id="my-table" class="text-center p-4 border" cfg="../data/data.js">
			<h1>CLICK HERE !</h1>
		    </wc-table>
		    <!-- SAMPLE -->
		</div>
	    </div>
	</div>

	<!-- ALL WC UTILITIES -->
	<script src="/Melify/mtk/dev/tk/lib/components/misc/webpack/src/w/dist/wc.js"></script> 
	
	<!-- APPLICATION SCRIPTS -->
	<script>
	 yepnope({
	     test : wc.detectIE(),
	     yep  : ['../es5/include.js', '../es5/table.js'],
	     nope : ['../js/include.js' ,  '../js/table.js']
	 });
	</script>

	<script>
	 wc.timeout(function(){
	     $.ajax({
                 "dataType": "json",
                 "url": '../data/data.js',
                 "success": function(json) {
		     let str = "<table class='display' cellspacing='0' width='100%'><thead><tr>";

		     $.each(json.columns, function(i, val){
                         str += "<th>" + val + "</th>";
		     });
		     
		     str += '</tr></thead></table>';

		     $("wc-table").empty();
		     $("wc-table").append(str);
		     
		     $("wc-table table").dataTable({
			 data: json.data,
			 scrollY: "300px",
			 scrollX: true,
			 scrollCollapse: true,
			 responsive: true,
			 paging: false,
			 autoWidth: true,
			 searching: true,
			 processing: true,
			 deferRender: true,
			 serverSide: false,
			 info: false,
			 fixedColumns: {
			     left: 1,
			     right: 1
			 },
		     });
                 },
	     });
	 }, 400, 1);
	</script>

	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
	<script src="https://cdn.datatables.net/fixedcolumns/4.1.0/js/dataTables.fixedColumns.min.js"s></script>
    </body>
</html>

